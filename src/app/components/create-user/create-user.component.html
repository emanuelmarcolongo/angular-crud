<div>
  <mat-card class="w-100">
    <mat-card-header class="d-flex justify-content-around mb-3">
      <mat-card-title>
        {{ editUser ? "Editar Usuário" : "Adicionar Usuário" }}
      </mat-card-title>
      <button mat-flat-button color="secundary" [mat-dialog-close]>
        Fechar
      </button>
    </mat-card-header>
    <mat-card-content class="d-flex">
      <p>Dados Pessoais:</p>
      <form [formGroup]="addUserForm" class="">
        <div class="d-flex mr-6">
          <mat-form-field appearance="outline">
            <mat-label>Nome</mat-label>
            <input matInput formControlName="name" name="name" />
            <mat-error>
              {{addUserForm.controls['name'].errors?.['required'] && getErrorMessage('required')}}
              {{addUserForm.controls['name'].errors?.['minLenght'] &&  getErrorMessage('minLenght') }}
              {{addUserForm.controls['name'].errors?.['maxLenght'] &&  getErrorMessage('maxLenght') }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>E-mail</mat-label>
            <input matInput formControlName="email" name="email" />
            <mat-error>
              {{addUserForm.controls['email'].errors?.['required'] && getErrorMessage('required')}}
              {{addUserForm.controls['email'].errors?.['email'] &&  getErrorMessage('email') }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Tipo: </mat-label>
            <mat-select formControlName="type" matNativeControl required>
              <mat-option *ngFor="let type of userTypes" [value]="type">
                {{ type }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="d-flex mx-6">
          <mat-form-field appearance="outline">
            <mat-label>Cargo: </mat-label>
            <mat-select formControlName="job" matNativeControl required>
              <mat-option *ngFor="let job of jobOptions" [value]="job">
                {{ job }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Salario</mat-label>
            <input matInput formControlName="salary" name="salary" />
          </mat-form-field>
        </div>

        <button
          *ngIf="!editUser"
          mat-flat-button
          color="primary"
          class="w-100"
          (click)="addUser()"
        >
          Adicionar
        </button>
        :
        <button
          *ngIf="editUser"
          mat-flat-button
          color="primary"
          class="w-100"
          (click)="updateUser()"
        >
          Editar
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
